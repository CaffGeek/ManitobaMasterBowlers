<div
  class="content-page"
  *ngIf="contentKey && hasAccess"
  [class.content-page--full]="sections.length === 0"
>
  <aside class="content-page__sidebar" *ngIf="sections.length > 0">
    <mat-form-field class="content-page__section-select" appearance="outline">
      <mat-label>Section</mat-label>
      <mat-select [value]="selectedSectionId" (selectionChange)="onSectionSelect($event.value)">
        <mat-option *ngFor="let section of sections" [value]="section.id">
          {{ section.title }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <nav class="content-page__menu">
      <ng-container *ngFor="let section of sections">
        <a
          *ngIf="isExternalSection(section)"
          [href]="getSectionExternalUrl(section)"
          target="_blank"
          rel="noopener noreferrer"
        >
          {{ section.title }}
        </a>
        <a
          *ngIf="!isExternalSection(section) && isRouteSection(section)"
          [routerLink]="getSectionRoute(section)"
        >
          {{ section.title }}
        </a>
        <a
          *ngIf="!isExternalSection(section) && !isRouteSection(section)"
          [routerLink]="['/content', parentPage?.slug, section.slug]"
          [class.is-active]="section.slug === sectionKey"
        >
          {{ section.title }}
        </a>
      </ng-container>
    </nav>
  </aside>
  <main class="content-page__body">
    <app-content-block [key]="contentKey"></app-content-block>
  </main>
</div>
<div class="content-page content-page--full" *ngIf="contentKey && !hasAccess">
  <main class="content-page__body">
    <h2>Access restricted</h2>
    <p>You do not have permission to view this page.</p>
  </main>
</div>
